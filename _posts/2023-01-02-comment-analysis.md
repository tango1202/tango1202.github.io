---
layout: single
title: "#2. 주석으로 분석하라"
categories: "comment"
tag: ["코딩", "주석"]
author_profile: false
sidebar: 
    nav: "docs"
---

전 주석이 많으면 코드가 오히려 눈에 안들어와요.

훔. 이런 분 계신가요?

주석이 오히려 눈을 어지럽히나요?

제가 한번 물어보죠. 왜 코드를 봐야 하나요?

함수가 있다면 함수선언만 보면 될 것을 왜 코드를 봐야 할까요? 왜 함수의 실제 구현 코드를 봐야 하고, 함수가 하는 짓을 일일이 추적하며 봐야 할까요?

간단히 답해드리면, 함수선언에는 충분한 정보가 없기 때문입니다. 그래서 함수를 사용하기 전에 의심을 갖게 되고, 구현 코드를 보게 되는 거죠. 

다음 멤버 함수의 선언을 한번 봅시다.

 
```cpp
void Shape::SetAngle(FLOAT angle);
```
 

뭐하는 함수일까요? 간단하죠. `Shape`형인 개체의 각도를 바꾸는 함수군요. 자 이걸 구현 코드를 보지 않고 마구마구 사용해도 안전할까요? 아무런 의심도 들지 않나요?

전 다음이 궁금하군요.

 

1. `angle`은 `Degree`일까요, `Radian`일까요?

2. 음수값을 주면 어떻게 될까요?

3. `Degree`일때 `360`보다 큰값을 주면 어떻게 될까요?

4. 회전의 중심은 어디인가요? `Shape`의 중심과 같나요?

5. `Shape`이 이미 30도 회전된 것이라면 어떻게 되나요? `angle`이 상대값은 아닌가요?

6. `Shape` 개체에서 각도값을 저장하는 변수의 값만 Set 하는 걸까요? 아니면 정말 회전까지 시키나요?

7. `Shape`을 회전 시켰으면, 화면 갱신도 같이 해주나요? 

8. 리턴값이 `void`면 정말 항상 성공하는 함수인가요? 절대 에러가 발생하지 않나요? 믿어도 되나요?

9. 정말 예외 발생은 없는 거죠?

 

내공의 정도에 따라 더 궁금한 사항이 있는 분들 계시죠?

`SetAngle` 함수를 사용하는데 있어서 여섯 부류의 프로그래머가 있습니다.

 
1. 아 뭐 각도 바꾸는 거 뭐, 그냥 `SetAngle` 함수를 그냥 씁니다.

2. 뭐하는 함수인지 정확히 파악하기 위해 소스코드를 분석합니다.

3. 뭐하는 함수인지 구현한 사람에게 물어봅니다.

4. 2 번, 3번 중의 한가지 방법으로 `SetAngle`을 파악한 후 이를 기억하고 다음부터는 기억한 데로 사용합니다.

5. 2번, 3번 중의 한가지 방법으로 매번 소스코드를 파악합니다.

6. 비밀 입니다.

 

1번 부류의 프로그래머라면 상당히 위험합니다. 엄청난 버그를 몰고 다니시는 분으로서 각성하셔야 합니다. 한마디로 자신이 무슨일을 하고있는지도 모르는 분입니다. 이런분은 소스코드를 작성하도록 하면 안됩니다. 웹서핑이나 게임 아이템 획득등 다른 일을 시키세요.

2번 부류의 프로그래머라면 버그는 몰고 다니시지는 않겠지만, 생산성은 떨어지시겠군요. 남이 구현한 코드를 보는 것은 역시 상당한 시간이 걸리죠.

3번 부류의 프로그래머라면 스트레스를 많이 받으시겠군요. 구현한 사람은 아마도 2번 과정으로 자신의 소스코드를 분석한 후 그 결과를 말해 줄 것이기 때문에 한참을 기다려야 할 것이고, 기다리는 동안 스트레스를 많이 받으실 것입니다.

4번 부류의 프로그래머라면 조금 위험합니다. 이분도 버그를 몰고 다니실 수 있죠. 자신의 기억을 너무 믿지 마세요. 기억이 정확하더라도 `SetAngle` 함수는 이미 변해 버렸을 수 있습니다.

5번 부류의 프로그래머라면 다행입니다. 생산성은 떨어지지만 적어도 버그를 만드시지 않을 것입니다. 버그 없는 단단한 코드. 좋잖아요?

6번 부류의 프로그래머는 비밀이라고 했는데 사실은 접니다. 전 궁금증이 생기면 2번이나 3번 과정으로 파악한 후 모조리 주석으로 넣어 버립니다. 혹은 원작자에게 주석을 넣어달라고 부탁합니다. 원작자가 귀찮아 하면 옆에 앉혀놓고 같이 주석을 입력합니다. 다음번엔 주석을 읽지요. 더이상 코드를 분석하거나 구현한 사람에게 물어보지 않습니다. 버그의 위험도 줄고 생산성도 좋아지죠.
 
단점은 있습니다. `angle`이 `Degree` 라는 것을 파악하고 주석으로 적어놓았는데, 누군가 이를 `Radian`으로 고치고 주석은 고치지 않았다면, 이후로 저는 주석만 읽고 `Degree` 값을 전달할 것입니다. 아!!! 저는 버그를 몰고다니는 프로그래머로 몰락할 수 있습니다.


이럴때는 고친 사람을 어떻게든 찾아서, 제발 다음부터는 소스코드를 변경하면 주석도 같이 변경해 달라고 애원해 보세요. 애원하면 들어주지 않을까요? 잘못된 주석은 잘못된 코드보다 더 !!!위험!!!할 수 있습니다.

눈이 어지러우시더라도 코드보다는 주석을 !!!먼저!!! 읽는 습관을 가져 보세요. 코드를 분석하는 것보다 생산성이 향상됩니다. 굳이 주석만 읽으면 될 것을 매번 코드를 일일이 분석하며 시간을 보낼 이유가 없잖아요? 지금도 웹년은 빠르게 지나가고 있습니다.

잊지 마세요.

1. 주석을 읽으면 버그의 위험도 줄고 생산성이 !!!향상!!!됩니다.

2. 주석은 코드를 분석하는 시간을 !!!단축!!!시켜주는 코딩 테크닉입니다.

3. 주석은 버그를 !!!방지!!!할 수 있는 코딩 테크닉입니다.

4. 잘못된 주석은 잘못된 코드보다 더 !!!위험!!!합니다.